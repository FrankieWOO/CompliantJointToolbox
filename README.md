# Compliant Joint Toolbox (CJT)
The Compliant Joint Toolbox (CJT) for MATLAB is being developed to ease the modelling and design of (compliant) robotic joints. The goal is to provide rapid iteration of different models and control architectures by providing a number of pre-built components with consistent interfaces, together with a set of tools to build new ones.

<a href="https://github.com/geez0x1/CompliantJointToolbox" target="_blank">https://github.com/geez0x1/CompliantJointToolbox</a>

**Authors:**

Joern Malzahn

Wesley Roozing

## Getting started
1. To set up the required paths, run `setCJTPaths.m`.

2. In the root of the toolbox, you will find the following directories:

    - `examples`: A set of MATLAB and Simulink examples demonstrating various functionalities;
    - `lib`: Core MATLAB classes and Simulink blocks that come with the library - controllers, models and observers;
    - `model`: Mathematical description of the various models and their components;
    - `param`: Parameter files for several example actuators;
    - `templates`: Templates used by the joint builder to build actuator classes;
    - `tools`: Various tools for calculating observers, gains, transfer functions and plotting;
    - `unit_tests`: Unit tests to verify correct functioning of the library.

3. The joint builder mostly works using the well-known factory design pattern, combined with taking advantage of the fact that we can create and instantiate new classes on the fly. This means it builds (almost) self-contained joint classes with the requested parameters, models, and nonlinear components. Built joint class files are placed in the `build/` folder, and generated by the `jointBuilder` class, by first instantiating it:

    ```
        jb = jointBuilder;
    ```
    
    and then calling the `buildJoint` method:
    
    ```
        jb.buildJoint('parameters_name', 'linear_model_name', 'optional_nonlinear_model(s)', 'optional_electrical_model', 'My_joint_name');
    ```
    
    which will construct a new joint class with name `My_joint_name`, parameters from `params/parameters_name.m`, reference a linear dynamics model `model/linear/linear_model_name.m`, use nonlinear models specified by a string (one) or a cell of strings (multiple), from `model/nonlinear/`, and use electrical dynamics model `electricalDynamicsName` from `model/electrical/`. The resulting file `build/My_joint_name.m` will contain your joint class definition.
    
    To create your first joints, try the following:
    
    1. Read through and run the example in `examples/matlab/MyFirstJoints.m`
    2. Compare the resulting joint class files in the `build/` directory.
    3. Try instantiating a joint by running `joint = My_simple_joint;`
    4. Get the state-space description of its linear dynamics by running `sys = joint.getStateSpace();` and its transfer functions by running `P = joint.getTF();`
    5. 

4. Go to the wiki for a more detailed description of the classes and to try some more advanced examples in both MATLAB and Simulink.
